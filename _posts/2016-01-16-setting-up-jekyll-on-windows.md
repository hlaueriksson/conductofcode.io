---
layout: post
title: Setting up Jekyll on Windows
date: 2016-01-16 20:50:00
tags: Jekyll, Blogging
---

This is how I installed Jekyll (3.0.1) on **Windows 10**.

## Chocolatey

Install Chocolatey with the instructions from [chocolatey.org](https://chocolatey.org/)

Run the following commands in a command prompt as *administrator*.

## Ruby

Install [Ruby](https://chocolatey.org/packages/ruby):

{% highlight bat %}
choco install ruby
{% endhighlight %}

## Ruby DevKit

Install [Ruby DevKit](https://chocolatey.org/packages/ruby2.devkit):

{% highlight bat %}
choco install ruby2.devkit
{% endhighlight %}

This resulted in errors for me:

{% highlight bat %}
 Downloading ruby2.devkit 64 bit
   from 'http://cdn.rubyinstaller.org/archives/devkits/DevKit-mingw64-64-4.7.2-20130224-1432-sfx.exe'
 Hashes match.
 Removing legacy install devkit items from C:\tools\ruby22\bin if they exist
 Cleaning out the contents of C:\tools\DevKit2
 Extracting the contents of C:\Users\<username>\AppData\Local\Temp\chocolatey\ruby.devkit\ruby.devkitInstall.exe to C:\tools\DevKit2
 You may want to configure your config.yml after this installation and rerun 'cinst ruby.devkit' if the defaults do not meet your needs
 Initializing and installing DevKit into Ruby.
 C:\tools\ruby22\bin\ruby.exe: No such file or directory -- dk.rb (LoadError)
 C:\tools\ruby22\bin\ruby.exe: No such file or directory -- dk.rb (LoadError)
 WARNING: Write-ChocolateySuccess is deprecated. If you are the maintainer, please remove it from your package file.
The install of ruby2.devkit was NOT successful.
Error while running 'C:\ProgramData\chocolatey\lib\ruby2.devkit\tools\chocolateyInstall.ps1'.
 See log for details.

Chocolatey installed 1/2 package(s). 1 package(s) failed.
 See the log for details (C:\ProgramData\chocolatey\logs\chocolatey.log).
Failures:
 - ruby2.devkit
{% endhighlight %}

Ignore the errors and continue with manual installation.

Run the Ruby DevKit installation scripts from the instructions at [https://github.com/oneclick/rubyinstaller/wiki/Development-Kit](https://github.com/oneclick/rubyinstaller/wiki/Development-Kit#4-run-installation-scripts)

I edited the `config.yml` file to look like this:

{% highlight YAML %}
# This configuration file contains the absolute path locations of all
# installed Rubies to be enhanced to work with the DevKit. This config
# file is generated by the 'ruby dk.rb init' step and may be modified
# before running the 'ruby dk.rb install' step. To include any installed
# Rubies that were not automagically discovered, simply add a line below
# the triple hyphens with the absolute path to the Ruby root directory.
#
# Example:
#
# ---
# - C:/ruby19trunk
# - C:/ruby192dev
#
---
- c:/tools/ruby22
{% endhighlight %}

## Jekyll

Install Jekyll:

{% highlight bat %}
gem install jekyll
{% endhighlight %}

Install *optional* Jekyll plugins:

{% highlight bat %}
gem install jekyll-sitemap
gem install jekyll-gist
{% endhighlight %}

## Troubleshooting

If you are using the `gist` tag, you may end up with the error:

`Liquid Exception: SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed`

Fix this with the instructions from [https://gist.github.com/fnichol/867550](https://gist.github.com/fnichol/867550#the-manual-way-boring)
