{% if page.is_post %}
  {% assign type = "article" %}
{% else %}
  {% assign type = "website" %}
{% endif %}
{% if page.image.path contains "http://" or page.image.path contains "https://" %}
  {% assign image = page.image.path %}
{% elsif page.image %}
  {% assign image = page.url | prepend: site.baseurl | prepend: site.url | append: page.image.path %}
{% endif %}
  <!-- http://ogp.me/ -->
  <meta property="og:type" content="{{ type }}" />
  <meta property="og:url" content="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}" />
  <meta property="og:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}" />
  <meta property="og:description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 140 }}{% else %}{{ site.description }}{% endif %}" />
{% if image %}
  <meta property="og:image" content="{{ image }}" />
  <meta property="og:image:width" content="{{ page.image.width }}" />
  <meta property="og:image:height" content="{{ page.image.height }}" />
{% endif %}
{% if page.is_post %}
  <meta property="og:site_name" content="{{ site.title }}" />
{% endif %}